P8105\_hw5\_sy2825
================
Shuo Yan (sy2825)
2018-11-06

Poblem 1
========

First, let's import data and create a tidy dataframe containing data from all participants.

``` r
file_names = list.files(path = "./data", pattern = ".*csv")

file_data = map(file_names, ~ read.csv(file.path("./data", .)))

longitudinal_data = tibble(name = str_replace(file_names, ".csv", "")) %>%
  mutate(file_data = file_data) %>%
  unnest() %>%
  janitor::clean_names() %>%
  gather(key = week, value = observations, week_1:week_8) %>%
  mutate(week = str_replace(week, "week_", "")) %>%
  separate(name, into = c("arm", "id"), sep = "_") %>%
  mutate(arm = str_replace(arm, "con", "control")) %>%
  mutate(arm = str_replace(arm, "exp", "experimental"))

# Now we have a tidied dataframe :

longitudinal_data
```

    ## # A tibble: 160 x 4
    ##    arm     id    week  observations
    ##    <chr>   <chr> <chr>        <dbl>
    ##  1 control 01    1             0.2 
    ##  2 control 02    1             1.13
    ##  3 control 03    1             1.77
    ##  4 control 04    1             1.04
    ##  5 control 05    1             0.47
    ##  6 control 06    1             2.37
    ##  7 control 07    1             0.03
    ##  8 control 08    1            -0.08
    ##  9 control 09    1             0.08
    ## 10 control 10    1             2.14
    ## # ... with 150 more rows
